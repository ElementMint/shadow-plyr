!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ShadowPlyr={})}(this,function(e){"use strict";function t(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)}function n(e,t,n,i,o){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?o.call(e,n):o?o.value=n:t.set(e,n),n}"function"==typeof SuppressedError&&SuppressedError;const i='<svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>',o='<svg viewBox="0 0 24 24"><path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"/></svg>',s='<svg viewBox="0 0 24 24"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg>',a='<svg viewBox="0 0 24 24"><path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/></svg>',r='<svg viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg>',l='<svg viewBox="0 0 24 24"><path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"/></svg>',c='<svg viewBox="0 0 24 24"><path d="M20.38 8.57l-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83z"/></svg>',d=new Map;
/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */
const{entries:p,setPrototypeOf:u,isFrozen:h,getPrototypeOf:m,getOwnPropertyDescriptor:f}=Object;let{freeze:v,seal:b,create:g}=Object,{apply:y,construct:w}="undefined"!=typeof Reflect&&Reflect;v||(v=function(e){return e}),b||(b=function(e){return e}),y||(y=function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return e.apply(t,i)}),w||(w=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return new e(...n)});const E=z(Array.prototype.forEach),k=z(Array.prototype.lastIndexOf),A=z(Array.prototype.pop),T=z(Array.prototype.push),x=z(Array.prototype.splice),S=z(String.prototype.toLowerCase),C=z(String.prototype.toString),N=z(String.prototype.match),L=z(String.prototype.replace),M=z(String.prototype.indexOf),_=z(String.prototype.trim),O=z(Object.prototype.hasOwnProperty),R=z(RegExp.prototype.test),P=(D=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return w(D,t)});var D;function z(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return y(e,t,i)}}function I(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;u&&u(e,null);let i=t.length;for(;i--;){let o=t[i];if("string"==typeof o){const e=n(o);e!==o&&(h(t)||(t[i]=e),o=e)}e[o]=!0}return e}function F(e){for(let t=0;t<e.length;t++){O(e,t)||(e[t]=null)}return e}function W(e){const t=g(null);for(const[n,i]of p(e)){O(e,n)&&(Array.isArray(i)?t[n]=F(i):i&&"object"==typeof i&&i.constructor===Object?t[n]=W(i):t[n]=i)}return t}function U(e,t){for(;null!==e;){const n=f(e,t);if(n){if(n.get)return z(n.get);if("function"==typeof n.value)return z(n.value)}e=m(e)}return function(){return null}}const B=v(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),H=v(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),V=v(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),q=v(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),G=v(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),j=v(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Y=v(["#text"]),X=v(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),$=v(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),K=v(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Z=v(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),J=b(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Q=b(/<%[\w\W]*|[\w\W]*%>/gm),ee=b(/\$\{[\w\W]*/gm),te=b(/^data-[\-\w.\u00B7-\uFFFF]+$/),ne=b(/^aria-[\-\w]+$/),ie=b(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),oe=b(/^(?:\w+script|data):/i),se=b(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ae=b(/^html$/i),re=b(/^[a-z][.\w]*(-[.\w]+)+$/i);var le=Object.freeze({__proto__:null,ARIA_ATTR:ne,ATTR_WHITESPACE:se,CUSTOM_ELEMENT:re,DATA_ATTR:te,DOCTYPE_NAME:ae,ERB_EXPR:Q,IS_ALLOWED_URI:ie,IS_SCRIPT_OR_DATA:oe,MUSTACHE_EXPR:J,TMPLIT_EXPR:ee});const ce=1,de=3,pe=7,ue=8,he=9,me=function(){return"undefined"==typeof window?null:window};var fe,ve,be,ge,ye,we,Ee,ke,Ae,Te,xe,Se,Ce,Ne,Le,Me,_e,Oe,Re,Pe,De,ze,Ie,Fe,We,Ue,Be,He,Ve,qe,Ge,je,Ye,Xe,$e,Ke,Ze,Je,Qe,et,tt,nt,it,ot,st,at,rt,lt,ct,dt,pt,ut,ht,mt,ft,vt,bt,gt,yt,wt,Et,kt,At,Tt,xt,St,Ct,Nt,Lt,Mt,_t,Ot,Rt,Pt,Dt,zt,It,Ft,Wt,Ut,Bt,Ht,Vt,qt,Gt,jt=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me();const n=t=>e(t);if(n.version="3.3.1",n.removed=[],!t||!t.document||t.document.nodeType!==he||!t.Element)return n.isSupported=!1,n;let{document:i}=t;const o=i,s=o.currentScript,{DocumentFragment:a,HTMLTemplateElement:r,Node:l,Element:c,NodeFilter:d,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:m,trustedTypes:f}=t,b=c.prototype,y=U(b,"cloneNode"),w=U(b,"remove"),D=U(b,"nextSibling"),z=U(b,"childNodes"),F=U(b,"parentNode");if("function"==typeof r){const e=i.createElement("template");e.content&&e.content.ownerDocument&&(i=e.content.ownerDocument)}let J,Q="";const{implementation:ee,createNodeIterator:te,createDocumentFragment:ne,getElementsByTagName:oe}=i,{importNode:se}=o;let re={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof p&&"function"==typeof F&&ee&&void 0!==ee.createHTMLDocument;const{MUSTACHE_EXPR:fe,ERB_EXPR:ve,TMPLIT_EXPR:be,DATA_ATTR:ge,ARIA_ATTR:ye,IS_SCRIPT_OR_DATA:we,ATTR_WHITESPACE:Ee,CUSTOM_ELEMENT:ke}=le;let{IS_ALLOWED_URI:Ae}=le,Te=null;const xe=I({},[...B,...H,...V,...G,...Y]);let Se=null;const Ce=I({},[...X,...$,...K,...Z]);let Ne=Object.seal(g(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Le=null,Me=null;const _e=Object.seal(g(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Oe=!0,Re=!0,Pe=!1,De=!0,ze=!1,Ie=!0,Fe=!1,We=!1,Ue=!1,Be=!1,He=!1,Ve=!1,qe=!0,Ge=!1,je=!0,Ye=!1,Xe={},$e=null;const Ke=I({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ze=null;const Je=I({},["audio","video","img","source","image","track"]);let Qe=null;const et=I({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),tt="http://www.w3.org/1998/Math/MathML",nt="http://www.w3.org/2000/svg",it="http://www.w3.org/1999/xhtml";let ot=it,st=!1,at=null;const rt=I({},[tt,nt,it],C);let lt=I({},["mi","mo","mn","ms","mtext"]),ct=I({},["annotation-xml"]);const dt=I({},["title","style","font","a","script"]);let pt=null;const ut=["application/xhtml+xml","text/html"];let ht=null,mt=null;const ft=i.createElement("form"),vt=function(e){return e instanceof RegExp||e instanceof Function},bt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!mt||mt!==e){if(e&&"object"==typeof e||(e={}),e=W(e),pt=-1===ut.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,ht="application/xhtml+xml"===pt?C:S,Te=O(e,"ALLOWED_TAGS")?I({},e.ALLOWED_TAGS,ht):xe,Se=O(e,"ALLOWED_ATTR")?I({},e.ALLOWED_ATTR,ht):Ce,at=O(e,"ALLOWED_NAMESPACES")?I({},e.ALLOWED_NAMESPACES,C):rt,Qe=O(e,"ADD_URI_SAFE_ATTR")?I(W(et),e.ADD_URI_SAFE_ATTR,ht):et,Ze=O(e,"ADD_DATA_URI_TAGS")?I(W(Je),e.ADD_DATA_URI_TAGS,ht):Je,$e=O(e,"FORBID_CONTENTS")?I({},e.FORBID_CONTENTS,ht):Ke,Le=O(e,"FORBID_TAGS")?I({},e.FORBID_TAGS,ht):W({}),Me=O(e,"FORBID_ATTR")?I({},e.FORBID_ATTR,ht):W({}),Xe=!!O(e,"USE_PROFILES")&&e.USE_PROFILES,Oe=!1!==e.ALLOW_ARIA_ATTR,Re=!1!==e.ALLOW_DATA_ATTR,Pe=e.ALLOW_UNKNOWN_PROTOCOLS||!1,De=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,ze=e.SAFE_FOR_TEMPLATES||!1,Ie=!1!==e.SAFE_FOR_XML,Fe=e.WHOLE_DOCUMENT||!1,Be=e.RETURN_DOM||!1,He=e.RETURN_DOM_FRAGMENT||!1,Ve=e.RETURN_TRUSTED_TYPE||!1,Ue=e.FORCE_BODY||!1,qe=!1!==e.SANITIZE_DOM,Ge=e.SANITIZE_NAMED_PROPS||!1,je=!1!==e.KEEP_CONTENT,Ye=e.IN_PLACE||!1,Ae=e.ALLOWED_URI_REGEXP||ie,ot=e.NAMESPACE||it,lt=e.MATHML_TEXT_INTEGRATION_POINTS||lt,ct=e.HTML_INTEGRATION_POINTS||ct,Ne=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&vt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ne.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&vt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ne.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ne.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ze&&(Re=!1),He&&(Be=!0),Xe&&(Te=I({},Y),Se=[],!0===Xe.html&&(I(Te,B),I(Se,X)),!0===Xe.svg&&(I(Te,H),I(Se,$),I(Se,Z)),!0===Xe.svgFilters&&(I(Te,V),I(Se,$),I(Se,Z)),!0===Xe.mathMl&&(I(Te,G),I(Se,K),I(Se,Z))),e.ADD_TAGS&&("function"==typeof e.ADD_TAGS?_e.tagCheck=e.ADD_TAGS:(Te===xe&&(Te=W(Te)),I(Te,e.ADD_TAGS,ht))),e.ADD_ATTR&&("function"==typeof e.ADD_ATTR?_e.attributeCheck=e.ADD_ATTR:(Se===Ce&&(Se=W(Se)),I(Se,e.ADD_ATTR,ht))),e.ADD_URI_SAFE_ATTR&&I(Qe,e.ADD_URI_SAFE_ATTR,ht),e.FORBID_CONTENTS&&($e===Ke&&($e=W($e)),I($e,e.FORBID_CONTENTS,ht)),e.ADD_FORBID_CONTENTS&&($e===Ke&&($e=W($e)),I($e,e.ADD_FORBID_CONTENTS,ht)),je&&(Te["#text"]=!0),Fe&&I(Te,["html","head","body"]),Te.table&&(I(Te,["tbody"]),delete Le.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw P('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw P('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');J=e.TRUSTED_TYPES_POLICY,Q=J.createHTML("")}else void 0===J&&(J=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const i="data-tt-policy-suffix";t&&t.hasAttribute(i)&&(n=t.getAttribute(i));const o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}}(f,s)),null!==J&&"string"==typeof Q&&(Q=J.createHTML(""));v&&v(e),mt=e}},gt=I({},[...H,...V,...q]),yt=I({},[...G,...j]),wt=function(e){T(n.removed,{element:e});try{F(e).removeChild(e)}catch(t){w(e)}},Et=function(e,t){try{T(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){T(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(Be||He)try{wt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},kt=function(e){let t=null,n=null;if(Ue)e="<remove></remove>"+e;else{const t=N(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===pt&&ot===it&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const o=J?J.createHTML(e):e;if(ot===it)try{t=(new m).parseFromString(o,pt)}catch(e){}if(!t||!t.documentElement){t=ee.createDocument(ot,"template",null);try{t.documentElement.innerHTML=st?Q:o}catch(e){}}const s=t.body||t.documentElement;return e&&n&&s.insertBefore(i.createTextNode(n),s.childNodes[0]||null),ot===it?oe.call(t,Fe?"html":"body")[0]:Fe?t.documentElement:s},At=function(e){return te.call(e.ownerDocument||e,e,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},Tt=function(e){return e instanceof h&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof u)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},xt=function(e){return"function"==typeof l&&e instanceof l};function St(e,t,i){E(e,e=>{e.call(n,t,i,mt)})}const Ct=function(e){let t=null;if(St(re.beforeSanitizeElements,e,null),Tt(e))return wt(e),!0;const i=ht(e.nodeName);if(St(re.uponSanitizeElement,e,{tagName:i,allowedTags:Te}),Ie&&e.hasChildNodes()&&!xt(e.firstElementChild)&&R(/<[/\w!]/g,e.innerHTML)&&R(/<[/\w!]/g,e.textContent))return wt(e),!0;if(e.nodeType===pe)return wt(e),!0;if(Ie&&e.nodeType===ue&&R(/<[/\w]/g,e.data))return wt(e),!0;if(!(_e.tagCheck instanceof Function&&_e.tagCheck(i))&&(!Te[i]||Le[i])){if(!Le[i]&&Lt(i)){if(Ne.tagNameCheck instanceof RegExp&&R(Ne.tagNameCheck,i))return!1;if(Ne.tagNameCheck instanceof Function&&Ne.tagNameCheck(i))return!1}if(je&&!$e[i]){const t=F(e)||e.parentNode,n=z(e)||e.childNodes;if(n&&t){for(let i=n.length-1;i>=0;--i){const o=y(n[i],!0);o.__removalCount=(e.__removalCount||0)+1,t.insertBefore(o,D(e))}}}return wt(e),!0}return e instanceof c&&!function(e){let t=F(e);t&&t.tagName||(t={namespaceURI:ot,tagName:"template"});const n=S(e.tagName),i=S(t.tagName);return!!at[e.namespaceURI]&&(e.namespaceURI===nt?t.namespaceURI===it?"svg"===n:t.namespaceURI===tt?"svg"===n&&("annotation-xml"===i||lt[i]):Boolean(gt[n]):e.namespaceURI===tt?t.namespaceURI===it?"math"===n:t.namespaceURI===nt?"math"===n&&ct[i]:Boolean(yt[n]):e.namespaceURI===it?!(t.namespaceURI===nt&&!ct[i])&&!(t.namespaceURI===tt&&!lt[i])&&!yt[n]&&(dt[n]||!gt[n]):!("application/xhtml+xml"!==pt||!at[e.namespaceURI]))}(e)?(wt(e),!0):"noscript"!==i&&"noembed"!==i&&"noframes"!==i||!R(/<\/no(script|embed|frames)/i,e.innerHTML)?(ze&&e.nodeType===de&&(t=e.textContent,E([fe,ve,be],e=>{t=L(t,e," ")}),e.textContent!==t&&(T(n.removed,{element:e.cloneNode()}),e.textContent=t)),St(re.afterSanitizeElements,e,null),!1):(wt(e),!0)},Nt=function(e,t,n){if(qe&&("id"===t||"name"===t)&&(n in i||n in ft))return!1;if(Re&&!Me[t]&&R(ge,t));else if(Oe&&R(ye,t));else if(_e.attributeCheck instanceof Function&&_e.attributeCheck(t,e));else if(!Se[t]||Me[t]){if(!(Lt(e)&&(Ne.tagNameCheck instanceof RegExp&&R(Ne.tagNameCheck,e)||Ne.tagNameCheck instanceof Function&&Ne.tagNameCheck(e))&&(Ne.attributeNameCheck instanceof RegExp&&R(Ne.attributeNameCheck,t)||Ne.attributeNameCheck instanceof Function&&Ne.attributeNameCheck(t,e))||"is"===t&&Ne.allowCustomizedBuiltInElements&&(Ne.tagNameCheck instanceof RegExp&&R(Ne.tagNameCheck,n)||Ne.tagNameCheck instanceof Function&&Ne.tagNameCheck(n))))return!1}else if(Qe[t]);else if(R(Ae,L(n,Ee,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==M(n,"data:")||!Ze[e]){if(Pe&&!R(we,L(n,Ee,"")));else if(n)return!1}else;return!0},Lt=function(e){return"annotation-xml"!==e&&N(e,ke)},Mt=function(e){St(re.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Tt(e))return;const i={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Se,forceKeepAttr:void 0};let o=t.length;for(;o--;){const s=t[o],{name:a,namespaceURI:r,value:l}=s,c=ht(a),d=l;let p="value"===a?d:_(d);if(i.attrName=c,i.attrValue=p,i.keepAttr=!0,i.forceKeepAttr=void 0,St(re.uponSanitizeAttribute,e,i),p=i.attrValue,!Ge||"id"!==c&&"name"!==c||(Et(a,e),p="user-content-"+p),Ie&&R(/((--!?|])>)|<\/(style|title|textarea)/i,p)){Et(a,e);continue}if("attributename"===c&&N(p,"href")){Et(a,e);continue}if(i.forceKeepAttr)continue;if(!i.keepAttr){Et(a,e);continue}if(!De&&R(/\/>/i,p)){Et(a,e);continue}ze&&E([fe,ve,be],e=>{p=L(p,e," ")});const u=ht(e.nodeName);if(Nt(u,c,p)){if(J&&"object"==typeof f&&"function"==typeof f.getAttributeType)if(r);else switch(f.getAttributeType(u,c)){case"TrustedHTML":p=J.createHTML(p);break;case"TrustedScriptURL":p=J.createScriptURL(p)}if(p!==d)try{r?e.setAttributeNS(r,a,p):e.setAttribute(a,p),Tt(e)?wt(e):A(n.removed)}catch(t){Et(a,e)}}else Et(a,e)}St(re.afterSanitizeAttributes,e,null)},_t=function e(t){let n=null;const i=At(t);for(St(re.beforeSanitizeShadowDOM,t,null);n=i.nextNode();)St(re.uponSanitizeShadowNode,n,null),Ct(n),Mt(n),n.content instanceof a&&e(n.content);St(re.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null,s=null,r=null,c=null;if(st=!e,st&&(e="\x3c!--\x3e"),"string"!=typeof e&&!xt(e)){if("function"!=typeof e.toString)throw P("toString is not a function");if("string"!=typeof(e=e.toString()))throw P("dirty is not a string, aborting")}if(!n.isSupported)return e;if(We||bt(t),n.removed=[],"string"==typeof e&&(Ye=!1),Ye){if(e.nodeName){const t=ht(e.nodeName);if(!Te[t]||Le[t])throw P("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)i=kt("\x3c!----\x3e"),s=i.ownerDocument.importNode(e,!0),s.nodeType===ce&&"BODY"===s.nodeName||"HTML"===s.nodeName?i=s:i.appendChild(s);else{if(!Be&&!ze&&!Fe&&-1===e.indexOf("<"))return J&&Ve?J.createHTML(e):e;if(i=kt(e),!i)return Be?null:Ve?Q:""}i&&Ue&&wt(i.firstChild);const d=At(Ye?e:i);for(;r=d.nextNode();)Ct(r),Mt(r),r.content instanceof a&&_t(r.content);if(Ye)return e;if(Be){if(He)for(c=ne.call(i.ownerDocument);i.firstChild;)c.appendChild(i.firstChild);else c=i;return(Se.shadowroot||Se.shadowrootmode)&&(c=se.call(o,c,!0)),c}let p=Fe?i.outerHTML:i.innerHTML;return Fe&&Te["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&R(ae,i.ownerDocument.doctype.name)&&(p="<!DOCTYPE "+i.ownerDocument.doctype.name+">\n"+p),ze&&E([fe,ve,be],e=>{p=L(p,e," ")}),J&&Ve?J.createHTML(p):p},n.setConfig=function(){bt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),We=!0},n.clearConfig=function(){mt=null,We=!1},n.isValidAttribute=function(e,t,n){mt||bt({});const i=ht(e),o=ht(t);return Nt(i,o,n)},n.addHook=function(e,t){"function"==typeof t&&T(re[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=k(re[e],t);return-1===n?void 0:x(re[e],n,1)[0]}return A(re[e])},n.removeHooks=function(e){re[e]=[]},n.removeAllHooks=function(){re={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();const Yt=new CSSStyleSheet;Yt.replaceSync("\n  :host { display: block; position: relative; width: 100%; max-width: 100%; height:100%; }\n  * { box-sizing: border-box; }\n  .video-container {\n    position: relative; width: 100%; aspect-ratio:var(--aspect-ratio,16:9); background: #000;\n    overflow: hidden;\n    height:100%;\n  }\n  .shadow-plyr-wrapper {\n    position: absolute; top: 0; left: 0; width: 100%; height: 100%;\n    display: flex; align-items: center; justify-content: center; outline: none;\n  }\n  video {\n    position: absolute; top: 0; left: 0; width: 100%; height: 100%;\n    object-fit: contain !important; display: block; pointer-events: auto !important;\n    opacity: 0; transition: opacity .3s ease; will-change: opacity;\n  }\n  .video-loaded.is-playing video,\n  .video-loaded:not(.poster-visible) video { opacity: 1 !important; }\n  video::-webkit-media-controls { display: none !important; }\n  picture {\n    position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: block;\n    z-index: 5; opacity: 0; transition: opacity .3s ease; pointer-events: none;\n    cursor: pointer;\n  }\n  picture img { width: 100%; height: 100%; object-fit: contain !important; display: block; }\n  .poster-visible picture { opacity: 1 !important; pointer-events: auto !important; }\n  .video-loading::after {\n    content: ''; position: absolute; top: 50%; left: 50%; width: 40px; height: 40px;\n    margin: -20px 0 0 -20px; border: 3px solid rgba(255,255,255,.3);\n    border-top-color: #fff; border-radius: 50%; animation: spin .8s linear infinite;\n    z-index: 10;\n  }\n  @keyframes spin { to { transform: rotate(360deg); } }\n  /* ----- CSS CUSTOM PROPERTIES (allows external styling) ----- */\n  .video-center-play {\n    position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%);\n    width: var(--center-play-size, 80px); height: var(--center-play-size, 80px);\n    border-radius: 50%; display: flex; align-items: center; justify-content: center;\n    cursor: pointer; transition: all .3s ease; z-index: 20; opacity: 0;\n    pointer-events: none; box-shadow: 0 4px 20px rgba(0,0,0,.3);\n    background: var(--center-play-bg, rgba(0,0,0,.7)); will-change: transform,opacity;\n  }\n  .video-center-play svg {\n    width: calc(var(--center-play-size, 80px) * 0.5);\n    height: calc(var(--center-play-size, 80px) * 0.5);\n    fill: var(--accent-color, #fff);\n    color:var(--accent-color, #fff);\n  }\n  .video-loaded .video-center-play { opacity: .8; pointer-events: auto; }\n  .video-loaded.is-playing .video-center-play { opacity: 0; pointer-events: none; }\n  .video-loaded.is-playing:hover .video-center-play { opacity: .8; pointer-events: auto; }\n  .video-center-play:hover { transform: translate(-50%,-50%) scale(1.1); }\n  .video-controls-bar {\n    position: absolute; bottom: 0; left: 0; right: 0;\n    padding: 40px 15px 15px; display: flex; flex-direction: column; gap: 10px;\n    transition: opacity .3s ease, transform .3s ease; z-index: 25; opacity: 0;\n    transform: translateY(100%); pointer-events: none; will-change: transform,opacity;\n    background: var(--controls-bg, linear-gradient(to top, rgba(0,0,0,.8), transparent));\n  }\n  .video-loaded:not(.is-playing) .video-controls-bar,\n  .video-loaded:hover .video-controls-bar,\n  .video-loaded.show-controls .video-controls-bar,\n  .video-loaded.is-playing:hover .video-controls-bar {\n    opacity: 1; transform: translateY(0); pointer-events: auto;\n  }\n  .video-loaded.is-playing .video-controls-bar { opacity: 0; transform: translateY(100%); pointer-events: none; }\n  .video-seekbar {\n    width: 100%; height: var(--seekbar-height, 5px); background: rgba(255,255,255,.3);\n    border-radius: 3px; cursor: pointer; position: relative; margin-bottom: 5px;\n  }\n  .video-seekbar-progress {\n    height: 100%; border-radius: 3px; width: 0%; position: relative;\n    transition: width .1s linear; background: var(--accent-color, #fff); will-change: width;\n  }\n  .video-seekbar-handle {\n    position: absolute; right: -6px; top: 50%; transform: translateY(-50%);\n    width: 12px; height: 12px; border-radius: 50%; background: var(--accent-color, #fff);\n    opacity: 0; transition: opacity .2s;\n  }\n  .video-seekbar:hover .video-seekbar-handle { opacity: 1; }\n  .video-controls-row { display: flex; align-items: center; gap: 15px; }\n  .video-control-btn {\n    background: none; border: none; cursor: pointer; padding: 5px;\n    display: flex; align-items: center; justify-content: center; transition: transform .2s;\n  }\n  .video-control-btn:hover { transform: scale(1.1); background: rgba(255,255,255,.1); }\n  .video-control-btn svg { width: 24px; height: 24px; fill: var(--accent-color, #fff); color:var(--accent-color,#fff); }\n  .video-control-btn.play-pause svg { width: 28px; height: 28px; }\n  .video-volume-control { display: flex; align-items: center; gap: 8px; }\n  .video-volume-slider {\n    width: 0; height: 3px; background: rgba(255,255,255,.3); border-radius: 3px;\n    cursor: pointer; position: relative; overflow: hidden; transition: width .3s ease;\n  }\n  .video-volume-control:hover .video-volume-slider { width: 60px; }\n  .video-volume-progress {\n    height: 100%; width: 100%; transition: width .1s;\n    background: var(--accent-color, #fff); will-change: width;\n  }\n  .video-controls-spacer { flex: 1; }\n  .video-time-display {\n    font-size: 13px; font-family: monospace; user-select: none;\n    color: var(--accent-color, #fff);\n  }\n  .video-speed-control { position: relative; }\n  .video-speed-btn { min-width: 45px; font-size: 13px; font-weight: 600; color:var(--accent-color,#fff) }\n  .video-speed-menu {\n    position: absolute; bottom: 100%; right: 0; border-radius: 4px; padding: 5px 0;\n    margin-bottom: 10px; min-width: 80px; opacity: 0; visibility: hidden;\n    transform: translateY(10px); transition: all .2s ease; z-index: 100;\n    background: var(--controls-bg, rgba(0,0,0,.8));\n  }\n  .video-speed-menu.active { opacity: 1; visibility: visible; transform: translateY(0); }\n  .video-speed-option {\n    display: block; width: 100%; padding: 8px 15px; background: none; border: none;\n    font-size: 13px; text-align: left; cursor: pointer; transition: background .2s;\n    color: var(--accent-color, #fff);\n  }\n  .video-speed-option:hover { background: rgba(255,255,255,.1); }\n  .video-speed-option.active { background: rgba(255,255,255,.2); font-weight: 600; }\n  .video-control-btn:focus-visible,\n  .video-seekbar:focus-visible,\n  .video-volume-slider:focus-visible { outline: 2px solid var(--accent-color, #fff); outline-offset: 2px; }\n  .sr-only {\n    position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px;\n    overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border-width: 0;\n  }\n  /* ----- Tooltip styles ----- */\n  .tooltip {\n    position: absolute;\n    bottom: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n    margin-bottom: 8px;\n    padding: 4px 8px;\n    background: var(--tooltip-bg,rgba(0,0,0,0.8));\n    color: var(--tooltip-color,#fff);\n    font-size: var(--tooltip-font-size,12px);\n    white-space: nowrap;\n    border-radius: 4px;\n    pointer-events: none;\n    opacity: 0;\n    transition: opacity 0.2s;\n    z-index: 30;\n  }\n  .video-control-btn:hover .tooltip,\n  .video-center-play:hover .tooltip {\n    opacity: 1;\n  }\n  @media (max-width: 768px) {\n    .video-center-play { width: 60px; height: 60px; }\n    .video-center-play svg { width: 30px; height: 30px; }\n    .video-controls-bar { padding: 30px 10px 10px; }\n    .video-control-btn svg { width: 20px; height: 20px; }\n    .video-volume-slider { display: none; }\n    .video-time-display { font-size: 11px; }\n  }\n\n  .tap-ripple {\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  background: rgba(255,255,255,0.4);\n  border-radius: 50%;\n  transform: translate(-50%, -50%);\n  animation: ripple-expand 0.6s ease-out forwards;\n  pointer-events: none;\n  z-index: 50;\n}\n\n@keyframes ripple-expand {\n  from {\n    opacity: 1;\n    transform: translate(-50%, -50%) scale(1);\n  }\n  to {\n    opacity: 0;\n    transform: translate(-50%, -50%) scale(8);\n  }\n}\n\n.video-seek-buttons {\n  position: absolute;\n  inset: 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  pointer-events: none;\n}\n\n.video-seek-buttons button {\n  pointer-events: auto;\n  width: 30%;\n  height: 60%;\n  background: transparent;\n  border: none;\n  color: #fff;\n  font-size: 20px;\n  font-weight: bold;\n  opacity: 0.6;\n}\n.seek-overlay {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%,-50%);\n  font-size: 32px;\n  color: white;\n  font-weight: bold;\n  pointer-events: none;\n  animation: fadeOut 0.6s forwards;\n}\n\n@keyframes fadeOut {\n  from { opacity: 1; }\n  to { opacity: 0; }\n}\n\n");const Xt=(()=>{const e=new Set;let t=null;return{register(t){e.add(t)},unregister(n){e.delete(n),t===n&&(t=null)},requestPlay(e){t&&t!==e&&t.pauseVideo(!0),t=e}}})();class $t extends HTMLElement{constructor(){super(),fe.add(this),ve.set(this,void 0),be.set(this,null),ge.set(this,0),ye.set(this,1e4),we.set(this,null),Ee.set(this,!1),ke.set(this,null),Ae.set(this,!1),Te.set(this,!1),xe.set(this,!1),Se.set(this,1),Ce.set(this,!1),Ne.set(this,!1),Le.set(this,!1),Me.set(this,!1),_e.set(this,!1),Oe.set(this,!0),Re.set(this,null),Pe.set(this,null),De.set(this,null),ze.set(this,null),Ie.set(this,null),Fe.set(this,null),We.set(this,null),Ue.set(this,null),Be.set(this,0),He.set(this,null),Ve.set(this,e=>{if(!t(this,ke,"f"))return;const n=e.key.toLowerCase();t(this,fe,"m",ft).call(this);let i=!1;const o={" ":()=>t(this,qe,"f").call(this),k:()=>t(this,qe,"f").call(this),arrowleft:()=>t(this,fe,"m",Wt).call(this),arrowright:()=>t(this,fe,"m",Ut).call(this),arrowup:()=>t(this,fe,"m",Bt).call(this,.1),arrowdown:()=>t(this,fe,"m",Bt).call(this,-.1),m:()=>t(this,Ge,"f").call(this),f:()=>t(this,je,"f").call(this),home:()=>{t(this,ke,"f")&&(t(this,ke,"f").currentTime=0)},end:()=>{t(this,ke,"f")&&(t(this,ke,"f").currentTime=t(this,ke,"f").duration)}};o[n]?(e.preventDefault(),o[n](),i=!0):n>="0"&&n<="9"&&t(this,ke,"f").duration&&(e.preventDefault(),t(this,ke,"f").currentTime=t(this,ke,"f").duration*(parseInt(n)/10),i=!0),i&&t(this,Pe,"f")&&t(this,Pe,"f").classList.add("show-controls")}),qe.set(this,e=>{e&&e.stopPropagation(),t(this,ke,"f")&&(t(this,Ae,"f")?this.pauseVideo():this.playVideo())}),Ge.set(this,e=>{e&&e.stopPropagation(),t(this,ke,"f")&&(t(this,ke,"f").muted=!t(this,ke,"f").muted)}),je.set(this,e=>{e&&e.stopPropagation();const n=t(this,ve,"f").querySelector(".video-container");document.fullscreenElement||document.webkitFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(null==n?void 0:n.requestFullscreen)?n.requestFullscreen():n&&"webkitRequestFullscreen"in n&&n.webkitRequestFullscreen()}),Ye.set(this,e=>{var n;(null===(n=t(this,ke,"f"))||void 0===n?void 0:n.duration)&&(t(this,ke,"f").currentTime=t(this,ke,"f").duration*e)}),Xe.set(this,e=>{if(t(this,ke,"f")){const n=Math.max(0,Math.min(1,e));t(this,ke,"f").volume=n,t(this,ke,"f").muted=0===n}}),$e.set(this,(e,i)=>{t(this,ke,"f")&&(t(this,ke,"f").playbackRate=e,n(this,Se,e,"f"),null==i||i.querySelectorAll(".video-speed-option").forEach(t=>{t.classList.toggle("active",parseFloat(t.getAttribute("data-speed"))===e)}),t(this,Ue,"f")&&(t(this,Ue,"f").textContent=e+"x"))}),Ke.set(this,()=>{t(this,Ce,"f")&&t(this,ke,"f")&&(document.hidden?t(this,Ae,"f")&&(n(this,_e,!0,"f"),this.pauseVideo()):t(this,_e,"f")&&!t(this,Ae,"f")&&(this.playVideo(),n(this,_e,!1,"f")))}),Ze.set(this,()=>{t(this,Ae,"f")&&(n(this,_e,!0,"f"),this.pauseVideo())}),Je.set(this,()=>{t(this,_e,"f")&&!t(this,Ae,"f")&&(this.playVideo(),n(this,_e,!1,"f"))}),Qe.set(this,()=>{t(this,fe,"m",ft).call(this).posterClickPlay&&t(this,ke,"f")&&!t(this,Me,"f")&&this.playVideo()}),et.set(this,e=>{e.preventDefault(),n(this,Te,!0,"f");const i=e.currentTarget,o=i.getBoundingClientRect();t(this,Ye,"f").call(this,(e.clientX-o.left)/o.width);const s=e=>{if(!t(this,Te,"f"))return;e.preventDefault();const n=i.getBoundingClientRect();t(this,Ye,"f").call(this,(e.clientX-n.left)/n.width)},a=()=>{n(this,Te,!1,"f"),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",a)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",a)}),tt.set(this,e=>{if(!t(this,ke,"f"))return;n(this,Te,!0,"f");const i=e.currentTarget,o=e=>{const n=i.getBoundingClientRect(),o=(e.clientX-n.left)/n.width;t(this,Ye,"f").call(this,o)};o(e.touches[0]);const s=e=>{t(this,Te,"f")&&o(e.touches[0])},a=()=>{n(this,Te,!1,"f"),document.removeEventListener("touchmove",s),document.removeEventListener("touchend",a)};document.addEventListener("touchmove",s,{passive:!0}),document.addEventListener("touchend",a)}),nt.set(this,e=>{e.preventDefault(),n(this,xe,!0,"f");const i=e.currentTarget,o=i.getBoundingClientRect();t(this,Xe,"f").call(this,(e.clientX-o.left)/o.width);const s=e=>{if(!t(this,xe,"f"))return;e.preventDefault();const n=i.getBoundingClientRect();t(this,Xe,"f").call(this,(e.clientX-n.left)/n.width)},a=()=>{n(this,xe,!1,"f"),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",a)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",a)}),it.set(this,(e,i)=>{t(this,ke,"f")&&(e.classList.remove("video-loading"),e.classList.add("video-loaded"),n(this,Ee,!0,"f"),n(this,Ce,!0,"f"),i.showControls&&t(this,fe,"m",Nt).call(this,e),i.autoplay||(n(this,Me,!1,"f"),n(this,Le,!0,"f"),e.classList.add("poster-visible")),t(this,fe,"m",Dt).call(this,!1,e),t(this,fe,"m",Gt).call(this,"video-ready",{duration:t(this,ke,"f").duration}))}),ot.set(this,e=>{t(this,fe,"m",Gt).call(this,"video-playing",{src:t(this,ke,"f").currentSrc,currentTime:t(this,ke,"f").currentTime,duration:t(this,ke,"f").duration}),e.classList.add("is-playing"),e.classList.remove("poster-visible"),n(this,Ae,!0,"f"),n(this,Me,!0,"f"),n(this,Le,!1,"f"),t(this,fe,"m",Rt).call(this,!0,e)}),st.set(this,e=>{t(this,fe,"m",Gt).call(this,"video-paused",{currentTime:t(this,ke,"f").currentTime}),e.classList.remove("is-playing"),n(this,Ae,!1,"f"),t(this,fe,"m",Rt).call(this,!1,e)}),at.set(this,(e,i)=>{t(this,fe,"m",Gt).call(this,"video-ended",{duration:t(this,ke,"f").duration}),e.classList.remove("is-playing"),n(this,Ae,!1,"f"),t(this,fe,"m",Rt).call(this,!1,e),i.loop||(i.resetOnEnded&&(t(this,ke,"f").currentTime=0),i.showPosterOnEnded&&t(this,Ne,"f")&&(e.classList.add("poster-visible"),n(this,Le,!0,"f")))}),rt.set(this,e=>{const n=t(this,ke,"f");t(this,fe,"m",Pt).call(this,n.muted||0===n.volume,e),t(this,fe,"m",zt).call(this,n.volume,e),t(this,fe,"m",Gt).call(this,"video-volume-change",{volume:n.volume,muted:n.muted})}),lt.set(this,e=>{var i,o;console.error("Video load error"),e.classList.remove("video-loading","video-loaded"),n(this,Ce,!1,"f"),t(this,fe,"m",Gt).call(this,"video-error",{code:null===(o=null===(i=t(this,ke,"f"))||void 0===i?void 0:i.error)||void 0===o?void 0:o.code})}),ct.set(this,()=>{const e=document.fullscreenElement===t(this,ve,"f").querySelector(".video-container");t(this,fe,"m",Dt).call(this,e),t(this,fe,"m",Gt).call(this,e?"video-fullscreen-enter":"video-fullscreen-exit")}),dt.set(this,e=>{var i;const o=t(this,fe,"m",ft).call(this);if(!t(this,ke,"f"))return;const s=t(this,Pe,"f").getBoundingClientRect(),a=e.changedTouches[0].clientX<s.left+s.width/2;o.enableTapRipple&&t(this,fe,"m",ht).call(this,e.changedTouches[0].clientX,e.changedTouches[0].clientY),n(this,Be,(i=t(this,Be,"f"),++i),"f"),t(this,He,"f")&&clearTimeout(t(this,He,"f")),n(this,He,window.setTimeout(()=>{const e=o.doubleTapSeekSeconds,i=o.tripleTapSeconds;2===t(this,Be,"f")&&o.doubleTapSeek&&t(this,fe,"m",ut).call(this,a?-e:e),t(this,Be,"f")>=3&&o.tripleTapSeek&&t(this,fe,"m",ut).call(this,a?-i:i),n(this,Be,0,"f")},300),"f")}),mt.set(this,void 0),n(this,ve,this.attachShadow({mode:"open"}),"f"),t(this,ve,"f").adoptedStyleSheets=[Yt],n(this,mt,function(e,t){let n;return function(...i){n||(e.apply(this,i),n=!0,setTimeout(()=>n=!1,t))}}(t(this,fe,"m",Mt).bind(this),100),"f")}static get observedAttributes(){return["lazy","pause-on-out-of-view","autoplay","loop","muted","playsinline","desktop-poster","mobile-poster","desktop-video","mobile-video","show-controls","controls-type","show-center-play","show-play-pause","show-seekbar","show-volume","show-fullscreen","show-speed","theme","accent-color","controls-background","center-play-background","center-play-size","play-icon","pause-icon","volume-icon","muted-icon","fullscreen-icon","exit-fullscreen-icon","speed-icon","video-type","preload","speed-options","controls-hide-delay","seek-step","lazy-threshold","pause-threshold","pause-on-tab-hide","show-poster-on-ended","reset-on-ended","poster-click-play","performance-mode","show-tooltips","tooltip-play","tooltip-pause","tooltip-mute","tooltip-unmute","tooltip-fullscreen","tooltip-exit-fullscreen","tooltip-speed","tooltip-center-play","double-tap-seek","double-tap-seek-seconds","show-seek-buttons","seek-button-seconds","triple-tap-seek","triple-tap-seconds","enable-tap-ripple"]}connectedCallback(){t(this,fe,"m",bt).call(this),t(this,fe,"m",At).call(this),t(this,fe,"m",Tt).call(this),"true"===this.getAttribute("virtual-playback")&&Xt.register(this)}disconnectedCallback(){t(this,fe,"m",qt).call(this),t(this,fe,"m",xt).call(this),t(this,Re,"f")&&cancelAnimationFrame(t(this,Re,"f")),Xt.unregister(this)}attributeChangedCallback(e,i,o){if(i===o)return;if(n(this,be,null,"f"),!t(this,Ee,"f"))return;const s=t(this,fe,"m",ft).call(this);switch(e){case"muted":t(this,ke,"f")&&(t(this,ke,"f").muted=s.muted);break;case"loop":t(this,ke,"f")&&(t(this,ke,"f").loop=s.loop);break;case"accent-color":case"theme":case"controls-background":case"center-play-background":case"center-play-size":t(this,fe,"m",kt).call(this,s);break;default:t(this,fe,"m",Vt).call(this)}}play(){this.playVideo()}pause(){this.pauseVideo()}mute(){t(this,ke,"f")&&(t(this,ke,"f").muted=!0)}unmute(){t(this,ke,"f")&&(t(this,ke,"f").muted=!1)}seek(e){t(this,ke,"f")&&(t(this,ke,"f").currentTime=e)}playVideo(){if(!t(this,ke,"f"))return;t(this,fe,"m",ft).call(this).autoplay&&(t(this,ke,"f").muted=!0),"true"===this.getAttribute("virtual-playback")&&Xt.requestPlay(this);const e=t(this,ke,"f").play();e&&e.catch(()=>{n(this,Le,!0,"f"),t(this,Pe,"f")&&t(this,Pe,"f").classList.add("poster-visible")})}pauseVideo(e){t(this,ke,"f")&&(t(this,ke,"f").pause(),e||t(this,fe,"m",Gt).call(this,"video-paused"))}}ve=new WeakMap,be=new WeakMap,ge=new WeakMap,ye=new WeakMap,we=new WeakMap,Ee=new WeakMap,ke=new WeakMap,Ae=new WeakMap,Te=new WeakMap,xe=new WeakMap,Se=new WeakMap,Ce=new WeakMap,Ne=new WeakMap,Le=new WeakMap,Me=new WeakMap,_e=new WeakMap,Oe=new WeakMap,Re=new WeakMap,Pe=new WeakMap,De=new WeakMap,ze=new WeakMap,Ie=new WeakMap,Fe=new WeakMap,We=new WeakMap,Ue=new WeakMap,Be=new WeakMap,He=new WeakMap,Ve=new WeakMap,qe=new WeakMap,Ge=new WeakMap,je=new WeakMap,Ye=new WeakMap,Xe=new WeakMap,$e=new WeakMap,Ke=new WeakMap,Ze=new WeakMap,Je=new WeakMap,Qe=new WeakMap,et=new WeakMap,tt=new WeakMap,nt=new WeakMap,it=new WeakMap,ot=new WeakMap,st=new WeakMap,at=new WeakMap,rt=new WeakMap,lt=new WeakMap,ct=new WeakMap,dt=new WeakMap,mt=new WeakMap,fe=new WeakSet,pt=function(e){var n;const i=document.createElement("div");i.className="seek-overlay",i.textContent=(e>0?"+":"")+e+"s",null===(n=t(this,Pe,"f"))||void 0===n||n.appendChild(i),setTimeout(()=>i.remove(),600)},ut=function(e){if(!t(this,ke,"f"))return;const n=Math.min(Math.max(0,t(this,ke,"f").currentTime+e),t(this,ke,"f").duration);t(this,ke,"f").currentTime=n,t(this,fe,"m",pt).call(this,e)},ht=function(e,n){if(!t(this,Pe,"f"))return;const i=t(this,Pe,"f").getBoundingClientRect(),o=document.createElement("div");o.className="tap-ripple",o.style.left=e-i.left+"px",o.style.top=n-i.top+"px",t(this,Pe,"f").appendChild(o),setTimeout(()=>o.remove(),600)},ft=function(){const e=Date.now();if(t(this,be,"f")&&e-t(this,ge,"f")<t(this,ye,"f"))return t(this,be,"f");const i={lazy:"true"===this.getAttribute("lazy"),pauseOnOutOfView:"true"===this.getAttribute("pause-on-out-of-view"),pauseOnTabHide:"false"!==this.getAttribute("pause-on-tab-hide"),autoplay:"true"===this.getAttribute("autoplay"),loop:"true"===this.getAttribute("loop"),muted:"true"===this.getAttribute("muted"),playsinline:"true"===this.getAttribute("playsinline"),preload:this.getAttribute("preload")||"metadata",desktopPoster:this.getAttribute("desktop-poster")||"",mobilePoster:this.getAttribute("mobile-poster")||"",desktopVideo:this.getAttribute("desktop-video")||"",mobileVideo:this.getAttribute("mobile-video")||"",videoType:this.getAttribute("video-type")||"video/mp4",showControls:"true"===this.getAttribute("show-controls"),controlsType:this.getAttribute("controls-type")||"full",showPlayPause:"false"!==this.getAttribute("show-play-pause"),showSeekbar:"true"===this.getAttribute("show-seekbar"),showVolume:"true"===this.getAttribute("show-volume"),showFullscreen:"true"===this.getAttribute("show-fullscreen"),showCenterPlay:"true"===this.getAttribute("show-center-play"),showSpeed:"true"===this.getAttribute("show-speed"),speedOptions:t(this,fe,"m",vt).call(this),controlsHideDelay:parseInt(this.getAttribute("controls-hide-delay")||"3000"),seekStep:parseInt(this.getAttribute("seek-step")||"5"),lazyThreshold:parseFloat(this.getAttribute("lazy-threshold")||"0.5"),pauseThreshold:parseFloat(this.getAttribute("pause-threshold")||"0.3"),theme:this.getAttribute("theme")||"dark",accentColor:this.getAttribute("accent-color")||"#ffffff",controlsBackground:this.getAttribute("controls-background")||"rgba(0, 0, 0, 0.8)",centerPlayBackground:this.getAttribute("center-play-background")||"rgba(0, 0, 0, 0.7)",centerPlaySize:parseInt(this.getAttribute("center-play-size")||"80"),showPosterOnEnded:"true"===this.getAttribute("show-poster-on-ended"),resetOnEnded:"true"===this.getAttribute("reset-on-ended"),posterClickPlay:"false"!==this.getAttribute("poster-click-play"),performanceMode:"true"===this.getAttribute("performance-mode"),showTooltips:"true"===this.getAttribute("show-tooltips"),tooltipPlay:this.getAttribute("tooltip-play")||"Play",tooltipPause:this.getAttribute("tooltip-pause")||"Pause",tooltipMute:this.getAttribute("tooltip-mute")||"Mute",tooltipUnmute:this.getAttribute("tooltip-unmute")||"Unmute",tooltipFullscreen:this.getAttribute("tooltip-fullscreen")||"Fullscreen",tooltipExitFullscreen:this.getAttribute("tooltip-exit-fullscreen")||"Exit fullscreen",tooltipSpeed:this.getAttribute("tooltip-speed")||"Playback speed",tooltipCenterPlay:this.getAttribute("tooltip-center-play")||"Play",doubleTapSeek:"false"!==this.getAttribute("double-tap-seek"),doubleTapSeekSeconds:parseInt(this.getAttribute("double-tap-seek-seconds")||"10"),showSeekButtons:"true"===this.getAttribute("show-seek-buttons"),seekButtonSeconds:parseInt(this.getAttribute("seek-button-seconds")||"10"),tripleTapSeek:"false"!==this.getAttribute("triple-tap-seek"),tripleTapSeconds:parseInt(this.getAttribute("triple-tap-seconds")||"30"),enableTapRipple:"false"!==this.getAttribute("enable-tap-ripple")};return n(this,be,i,"f"),n(this,ge,e,"f"),i},vt=function(){const e=this.getAttribute("speed-options");if(!e)return[.5,.75,1,1.25,1.5,2];try{return e.split(",").map(e=>parseFloat(e.trim())).filter(e=>!isNaN(e))}catch{return[.5,.75,1,1.25,1.5,2]}},bt=function(){const e=t(this,fe,"m",ft).call(this);n(this,Ne,!(!e.desktopPoster&&!e.mobilePoster),"f"),n(this,Le,t(this,Ne,"f")&&!t(this,Me,"f"),"f");const i=document.createElement("div");if(i.className="shadow-plyr-wrapper",i.setAttribute("tabindex","0"),i.setAttribute("role","application"),i.setAttribute("aria-label","Video player"),i.setAttribute("part","shadow-plyr-wrapper"),e.desktopPoster||e.mobilePoster){const t=document.createElement("picture");if(e.mobilePoster){const n=document.createElement("source");n.media="(max-width: 768px)",n.srcset=e.mobilePoster,t.appendChild(n)}const n=document.createElement("img");n.src=e.desktopPoster,n.alt="Video thumbnail",n.loading="lazy",t.appendChild(n),i.appendChild(t)}const o=document.createElement("div");if(o.className="video-placeholder",i.appendChild(o),e.showCenterPlay){const n=t(this,fe,"m",wt).call(this),o=document.createElement("div");o.className="video-center-play",o.setAttribute("role","button"),o.tabIndex=0,o.setAttribute("aria-label","Play video");const s=document.createElement("span");s.className="play-icon",s.setAttribute("aria-hidden","true"),s.appendChild(t(this,fe,"m",gt).call(this,n.play));const a=document.createElement("span");if(a.className="pause-icon",a.style.display="none",a.setAttribute("aria-hidden","true"),a.appendChild(t(this,fe,"m",gt).call(this,n.pause)),o.appendChild(s),o.appendChild(a),e.showTooltips){const t=document.createElement("span");t.className="tooltip center-play-tooltip",t.textContent=e.tooltipCenterPlay,o.appendChild(t)}const r=document.createElement("span");r.className="sr-only",r.textContent="Play",o.appendChild(r),i.appendChild(o)}e.showControls&&"none"!==e.controlsType&&i.appendChild(t(this,fe,"m",Et).call(this,e)),e.showSeekButtons&&i.appendChild(t(this,fe,"m",yt).call(this,e));const s=document.createElement("div");s.className="video-container",s.setAttribute("part","video-container"),s.appendChild(i),t(this,ve,"f").innerHTML="",t(this,ve,"f").appendChild(s),n(this,Pe,i,"f"),n(this,De,i.querySelector(".video-seekbar"),"f"),n(this,ze,i.querySelector(".video-seekbar-progress"),"f"),n(this,Ie,i.querySelector(".video-time-display"),"f"),n(this,Fe,i.querySelector(".video-volume-progress"),"f"),n(this,We,i.querySelector(".video-speed-menu"),"f"),n(this,Ue,i.querySelector(".speed-text"),"f")},gt=function(e){const t=document.createElement("div");t.innerHTML=e.trim();const n=t.firstElementChild;if(!n||"svg"!==n.tagName.toLowerCase()){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");return e.setAttribute("viewBox","0 0 24 24"),e}return n},yt=function(e){const n=document.createElement("div");n.className="video-seek-buttons";const i=document.createElement("button");i.className="seek-left",i.textContent=`-${e.seekButtonSeconds}s`;const o=document.createElement("button");return o.className="seek-right",o.textContent=`+${e.seekButtonSeconds}s`,i.addEventListener("click",()=>{t(this,ke,"f")&&(t(this,ke,"f").currentTime=Math.max(0,t(this,ke,"f").currentTime-e.seekButtonSeconds))}),o.addEventListener("click",()=>{t(this,ke,"f")&&(t(this,ke,"f").currentTime=Math.min(t(this,ke,"f").duration,t(this,ke,"f").currentTime+e.seekButtonSeconds))}),n.appendChild(i),n.appendChild(o),n},wt=function(){const e=`${this.getAttribute("play-icon")||""}-${this.getAttribute("pause-icon")||""}`;if(d.has(e))return d.get(e);const t={play:jt.sanitize(this.getAttribute("play-icon")||i,{USE_PROFILES:{svg:!0}}),pause:jt.sanitize(this.getAttribute("pause-icon")||o,{USE_PROFILES:{svg:!0}}),volume:jt.sanitize(this.getAttribute("volume-icon")||s,{USE_PROFILES:{svg:!0}}),muted:jt.sanitize(this.getAttribute("muted-icon")||a,{USE_PROFILES:{svg:!0}}),fullscreen:jt.sanitize(this.getAttribute("fullscreen-icon")||r,{USE_PROFILES:{svg:!0}}),exitFullscreen:jt.sanitize(this.getAttribute("exit-fullscreen-icon")||l,{USE_PROFILES:{svg:!0}}),speed:jt.sanitize(this.getAttribute("speed-icon")||c,{USE_PROFILES:{svg:!0}})};return d.set(e,t),t},Et=function(e){const n=t(this,fe,"m",wt).call(this),i=document.createDocumentFragment(),o=document.createElement("div");if(o.className="video-controls-bar",o.setAttribute("role","region"),o.setAttribute("aria-label","Video controls"),o.setAttribute("part","controls"),e.showSeekbar){const e=document.createElement("div");e.className="video-seekbar",e.setAttribute("role","slider"),e.tabIndex=0,e.setAttribute("aria-label","Seek"),e.setAttribute("aria-valuemin","0"),e.setAttribute("aria-valuemax","100"),e.setAttribute("aria-valuenow","0");const t=document.createElement("div");t.className="video-seekbar-progress";const n=document.createElement("div");n.className="video-seekbar-handle",t.appendChild(n),e.appendChild(t),o.appendChild(e)}const s=document.createElement("div");if(s.className="video-controls-row",e.showPlayPause){const i=document.createElement("button");i.className="video-control-btn play-pause",i.setAttribute("aria-label","Play"),i.tabIndex=0;const o=document.createElement("span");o.className="play-icon",o.setAttribute("aria-hidden","true"),o.appendChild(t(this,fe,"m",gt).call(this,n.play));const a=document.createElement("span");if(a.className="pause-icon",a.style.display="none",a.setAttribute("aria-hidden","true"),a.appendChild(t(this,fe,"m",gt).call(this,n.pause)),i.appendChild(o),i.appendChild(a),e.showTooltips){const t=document.createElement("span");t.className="tooltip play-tooltip",t.textContent=e.tooltipPlay;const n=document.createElement("span");n.className="tooltip pause-tooltip",n.style.display="none",n.textContent=e.tooltipPause,i.appendChild(t),i.appendChild(n)}s.appendChild(i)}if(e.showVolume){const i=document.createElement("div");i.className="video-volume-control";const o=document.createElement("button");o.className="video-control-btn volume-btn",o.setAttribute("aria-label","Mute"),o.tabIndex=0;const a=document.createElement("span");a.className="volume-icon",a.setAttribute("aria-hidden","true"),a.appendChild(t(this,fe,"m",gt).call(this,n.volume));const r=document.createElement("span");if(r.className="muted-icon",r.style.display="none",r.setAttribute("aria-hidden","true"),r.appendChild(t(this,fe,"m",gt).call(this,n.muted)),o.appendChild(a),o.appendChild(r),e.showTooltips){const t=document.createElement("span");t.className="tooltip volume-tooltip",t.textContent=e.tooltipMute;const n=document.createElement("span");n.className="tooltip muted-tooltip",n.style.display="none",n.textContent=e.tooltipUnmute,o.appendChild(t),o.appendChild(n)}i.appendChild(o);const l=document.createElement("div");l.className="video-volume-slider",l.setAttribute("role","slider"),l.tabIndex=0,l.setAttribute("aria-label","Volume"),l.setAttribute("aria-valuemin","0"),l.setAttribute("aria-valuemax","100"),l.setAttribute("aria-valuenow","100");const c=document.createElement("div");c.className="video-volume-progress",l.appendChild(c),i.appendChild(l),s.appendChild(i)}const a=document.createElement("div");a.className="video-time-display",a.textContent="0:00 / 0:00",s.appendChild(a);const r=document.createElement("div");if(r.className="video-controls-spacer",s.appendChild(r),e.showSpeed){const i=document.createElement("div");i.className="video-speed-control";const o=document.createElement("button");o.className="video-control-btn video-speed-btn",o.setAttribute("aria-label","Playback speed"),o.setAttribute("aria-haspopup","true"),o.setAttribute("aria-expanded","false"),o.tabIndex=0;const a=document.createElement("span");a.className="speed-text",a.textContent="1x";const r=document.createElement("span");if(r.setAttribute("aria-hidden","true"),r.appendChild(t(this,fe,"m",gt).call(this,n.speed)),o.appendChild(r),o.appendChild(a),e.showTooltips){const t=document.createElement("span");t.className="tooltip speed-tooltip",t.textContent=e.tooltipSpeed,o.appendChild(t)}i.appendChild(o);const l=document.createElement("div");l.className="video-speed-menu",l.setAttribute("role","menu"),e.speedOptions.forEach(e=>{const t=document.createElement("button");t.className="video-speed-option "+(1===e?"active":""),t.setAttribute("role","menuitem"),t.tabIndex=-1,t.setAttribute("data-speed",e.toString()),t.textContent=e+"x",l.appendChild(t)}),i.appendChild(l),s.appendChild(i)}if(e.showFullscreen){const i=document.createElement("button");i.className="video-control-btn fullscreen-btn",i.setAttribute("aria-label","Fullscreen"),i.tabIndex=0;const o=document.createElement("span");o.className="fullscreen-icon",o.setAttribute("aria-hidden","true"),o.appendChild(t(this,fe,"m",gt).call(this,n.fullscreen));const a=document.createElement("span");if(a.className="exit-fullscreen-icon",a.style.display="none",a.setAttribute("aria-hidden","true"),a.appendChild(t(this,fe,"m",gt).call(this,n.exitFullscreen)),i.appendChild(o),i.appendChild(a),e.showTooltips){const t=document.createElement("span");t.className="tooltip fullscreen-tooltip",t.textContent=e.tooltipFullscreen;const n=document.createElement("span");n.className="tooltip exit-fullscreen-tooltip",n.style.display="none",n.textContent=e.tooltipExitFullscreen,i.appendChild(t),i.appendChild(n)}s.appendChild(i)}return o.appendChild(s),i.appendChild(o),i},kt=function(e){const t="light"===e.theme?{accent:"#ffffff"!==e.accentColor?e.accentColor:"#000000",controlsBg:"rgba(0,0,0,0.8)"!==e.controlsBackground?e.controlsBackground:"rgba(255,255,255,0.9)",centerPlayBg:"rgba(0,0,0,0.7)"!==e.centerPlayBackground?e.centerPlayBackground:"rgba(255,255,255,0.8)"}:{accent:e.accentColor,controlsBg:e.controlsBackground,centerPlayBg:e.centerPlayBackground};this.style.setProperty("--accent-color",t.accent),this.style.setProperty("--controls-bg",t.controlsBg),this.style.setProperty("--center-play-bg",t.centerPlayBg),e.centerPlaySize&&this.style.setProperty("--center-play-size",e.centerPlaySize+"px")},At=function(){const e=t(this,fe,"m",ft).call(this);e.lazy||e.pauseOnOutOfView?t(this,fe,"m",St).call(this,t(this,Pe,"f"),e):t(this,fe,"m",Ct).call(this,t(this,Pe,"f"),e),e.performanceMode&&t(this,fe,"m",Ht).call(this),t(this,fe,"m",kt).call(this,e)},Tt=function(){t(this,fe,"m",ft).call(this).pauseOnTabHide&&(document.addEventListener("visibilitychange",t(this,Ke,"f"),{passive:!0}),window.addEventListener("pagehide",t(this,Ze,"f"),{passive:!0}),window.addEventListener("pageshow",t(this,Je,"f"),{passive:!0}))},xt=function(){document.removeEventListener("visibilitychange",t(this,Ke,"f")),window.removeEventListener("pagehide",t(this,Ze,"f")),window.removeEventListener("pageshow",t(this,Je,"f"))},St=function(e,i){if(!("IntersectionObserver"in window))return t(this,fe,"m",Ct).call(this,e,i);const o={root:null,rootMargin:"50px",threshold:i.lazyThreshold};n(this,we,new IntersectionObserver(o=>{o.forEach(o=>{i.lazy&&!t(this,Ee,"f")&&o.isIntersecting&&o.intersectionRatio>=i.lazyThreshold&&t(this,fe,"m",Ct).call(this,e,i),i.pauseOnOutOfView&&t(this,ke,"f")&&t(this,Ce,"f")&&(!o.isIntersecting||o.intersectionRatio<i.pauseThreshold?t(this,Ae,"f")&&(n(this,_e,!0,"f"),this.pauseVideo()):t(this,_e,"f")&&!t(this,Ae,"f")&&(this.playVideo(),n(this,_e,!1,"f")))})},o),"f"),t(this,we,"f").observe(e),i.lazy||!i.pauseOnOutOfView||t(this,Ee,"f")||t(this,fe,"m",Ct).call(this,e,i)},Ct=function(e,i){if(t(this,Ee,"f"))return;e.classList.add("video-loading");const o=document.createElement("video");n(this,ke,o,"f");const s={preload:i.preload,disablepictureinpicture:"","webkit-playsinline":"",...i.loop&&{loop:""},...i.muted&&{muted:""},...i.playsinline&&{playsinline:""}};if(Object.entries(s).forEach(([e,t])=>o.setAttribute(e,t)),o.setAttribute("part","video"),i.desktopVideo){const e=document.createElement("source");e.src=i.desktopVideo,e.type=i.videoType,e.media="(min-width: 769px)",o.appendChild(e)}if(i.mobileVideo){const e=document.createElement("source");e.src=i.mobileVideo,e.type=i.videoType,e.media="(max-width: 768px)",o.appendChild(e)}const a=window.matchMedia("(max-width: 768px)").matches;o.src=a&&i.mobileVideo?i.mobileVideo:i.desktopVideo,o.addEventListener("loadeddata",t(this,it,"f").bind(this,e,i),{once:!0}),o.addEventListener("playing",t(this,ot,"f").bind(this,e)),o.addEventListener("pause",t(this,st,"f").bind(this,e)),o.addEventListener("ended",t(this,at,"f").bind(this,e,i)),o.addEventListener("seeked",()=>t(this,fe,"m",Gt).call(this,"video-seeked",{currentTime:o.currentTime})),o.addEventListener("seeking",()=>t(this,fe,"m",Gt).call(this,"video-seeking",{currentTime:o.currentTime})),o.addEventListener("timeupdate",t(this,mt,"f"),{passive:!0}),o.addEventListener("volumechange",t(this,rt,"f").bind(this,e)),o.addEventListener("error",t(this,lt,"f").bind(this,e)),document.addEventListener("fullscreenchange",t(this,ct,"f"));const r=e.querySelector(".video-placeholder");r&&r.replaceWith(o),o.style.pointerEvents="auto";const l=e.querySelector("picture");l&&(l.removeEventListener("click",t(this,Qe,"f")),l.addEventListener("click",t(this,Qe,"f"))),i.autoplay&&i.muted&&this.playVideo()},Nt=function(e){e.addEventListener("click",n=>{const i=n.target,o=i.closest(".video-seekbar");if(o){const e=o.getBoundingClientRect();return t(this,Ye,"f").call(this,(n.clientX-e.left)/e.width),void n.stopPropagation()}const s=i.closest(".video-volume-slider");if(s){const e=s.getBoundingClientRect();return t(this,Xe,"f").call(this,(n.clientX-e.left)/e.width),void n.stopPropagation()}const a=i.closest('[class*="video-"]');if(a)if(n.stopPropagation(),a.classList.contains("play-pause")||a.classList.contains("video-center-play"))t(this,qe,"f").call(this,n);else if(a.classList.contains("volume-btn"))t(this,Ge,"f").call(this,n);else if(a.classList.contains("fullscreen-btn"))t(this,je,"f").call(this,n);else if(a.classList.contains("video-speed-btn"))t(this,fe,"m",It).call(this,e);else if(a.classList.contains("video-speed-option")){const n=parseFloat(a.getAttribute("data-speed"));t(this,$e,"f").call(this,n,e),t(this,fe,"m",Ft).call(this,e)}});const n=e.querySelector(".video-seekbar");n&&(n.addEventListener("mousedown",t(this,et,"f")),n.addEventListener("touchstart",t(this,tt,"f"),{passive:!0}));const i=e.querySelector(".video-volume-slider");i&&i.addEventListener("mousedown",t(this,nt,"f")),t(this,ke,"f")&&t(this,ke,"f").addEventListener("click",t(this,qe,"f")),t(this,fe,"m",Lt).call(this,e)},Lt=function(e){e.addEventListener("keydown",t(this,Ve,"f")),e.addEventListener("mouseenter",()=>{t(this,Ce,"f")&&e.classList.add("show-controls")},{passive:!0}),e.addEventListener("mouseleave",()=>{e.classList.remove("show-controls")},{passive:!0}),e.addEventListener("touchend",t(this,dt,"f"))},Mt=function(){const e=t(this,ke,"f");if(!e||!e.duration)return;const n=e.currentTime/e.duration*100;t(this,ze,"f")&&(t(this,ze,"f").style.width=n+"%"),t(this,De,"f")&&t(this,De,"f").setAttribute("aria-valuenow",Math.round(n).toString()),t(this,fe,"m",_t).call(this)},_t=function(){if(!t(this,Ie,"f")||!t(this,ke,"f"))return;const e=t(this,fe,"m",Ot).call(this,t(this,ke,"f").currentTime),n=t(this,fe,"m",Ot).call(this,t(this,ke,"f").duration);t(this,Ie,"f").textContent=`${e} / ${n}`},Ot=function(e){if(isNaN(e)||!isFinite(e))return"0:00";return`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`},Rt=function(e,n){n||(n=t(this,Pe,"f")),n.querySelectorAll(".play-pause, .video-center-play").forEach(t=>{const n=t.querySelector(".play-icon"),i=t.querySelector(".pause-icon");n&&(n.style.display=e?"none":"block"),i&&(i.style.display=e?"block":"none"),t.setAttribute("aria-label",e?"Pause":"Play");const o=t.querySelector(".play-tooltip"),s=t.querySelector(".pause-tooltip");o&&(o.style.display=e?"none":"block"),s&&(s.style.display=e?"block":"none")})},Pt=function(e,n){n||(n=t(this,Pe,"f"));const i=n.querySelector(".volume-btn");if(i){const t=i.querySelector(".volume-icon"),n=i.querySelector(".muted-icon");t&&(t.style.display=e?"none":"block"),n&&(n.style.display=e?"block":"none"),i.setAttribute("aria-label",e?"Unmute":"Mute");const o=i.querySelector(".volume-tooltip"),s=i.querySelector(".muted-tooltip");o&&(o.style.display=e?"none":"block"),s&&(s.style.display=e?"block":"none")}},Dt=function(e,n){n||(n=t(this,Pe,"f"));const i=n.querySelector(".fullscreen-btn");if(i){const t=i.querySelector(".fullscreen-icon"),n=i.querySelector(".exit-fullscreen-icon");t&&(t.style.display=e?"none":"block"),n&&(n.style.display=e?"block":"none"),i.setAttribute("aria-label",e?"Exit fullscreen":"Fullscreen");const o=i.querySelector(".fullscreen-tooltip"),s=i.querySelector(".exit-fullscreen-tooltip");o&&(o.style.display=e?"none":"block"),s&&(s.style.display=e?"block":"none")}},zt=function(e,n){t(this,Fe,"f")&&(t(this,Fe,"f").style.width=100*e+"%")},It=function(e){var n;null===(n=t(this,We,"f"))||void 0===n||n.classList.toggle("active")},Ft=function(e){var n;null===(n=t(this,We,"f"))||void 0===n||n.classList.remove("active")},Wt=function(){t(this,ke,"f")&&(t(this,ke,"f").currentTime=Math.max(0,t(this,ke,"f").currentTime-t(this,fe,"m",ft).call(this).seekStep))},Ut=function(){t(this,ke,"f")&&(t(this,ke,"f").currentTime=Math.min(t(this,ke,"f").duration,t(this,ke,"f").currentTime+t(this,fe,"m",ft).call(this).seekStep))},Bt=function(e){t(this,ke,"f")&&t(this,Xe,"f").call(this,t(this,ke,"f").volume+e)},Ht=function(){t(this,Pe,"f")&&t(this,Pe,"f").classList.add("perf-mode")},Vt=function(){t(this,fe,"m",qt).call(this),t(this,fe,"m",bt).call(this),requestAnimationFrame(()=>{t(this,fe,"m",At).call(this),t(this,fe,"m",Tt).call(this)})},qt=function(){t(this,fe,"m",xt).call(this),t(this,we,"f")&&(t(this,we,"f").disconnect(),n(this,we,null,"f")),t(this,Pe,"f")&&t(this,Pe,"f").removeEventListener("keydown",t(this,Ve,"f")),t(this,ke,"f")&&(t(this,ke,"f").pause(),t(this,ke,"f").removeEventListener("click",t(this,qe,"f")),t(this,ke,"f").src="",t(this,ke,"f").load(),n(this,ke,null,"f")),t(this,Re,"f")&&cancelAnimationFrame(t(this,Re,"f")),n(this,Ee,!1,"f"),n(this,Ae,!1,"f"),n(this,Ce,!1,"f"),n(this,_e,!1,"f"),n(this,Me,!1,"f"),n(this,Le,t(this,Ne,"f"),"f"),n(this,Se,1,"f"),n(this,Pe,null,"f"),n(this,De,null,"f"),n(this,ze,null,"f"),n(this,Ie,null,"f"),n(this,Fe,null,"f"),n(this,We,null,"f"),n(this,Ue,null,"f"),n(this,be,null,"f")},Gt=function(e,t={}){this.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0}))},customElements.get("shadow-plyr")||customElements.define("shadow-plyr",$t),customElements.get("shadow-plyr")||customElements.define("shadow-plyr",$t),e.ShadowPlyr=$t});
//# sourceMappingURL=index.umd.js.map
